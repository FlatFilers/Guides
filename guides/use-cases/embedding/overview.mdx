---
title: "Overview"
description: "Securely and easily build an embedded Flatfile import experience into your client-side application"
icon: "hand-wave"
---

Front-end SDK wrappers around the [Flatfile API](https://reference.flatfile.com/docs/api/) allow you to securely and easily add an embedded data import experience, also known as a [Space](/concepts/spaces), directly into to your application.

Using an iframe, Flatfile seamlessly integrates into your website or application, providing a simple yet robust experience for collecting and transforming data from your customers.

## Choose a language

<CardGroup cols={2}>
  <Card
    title="Javascript"
    icon="js"
    href="/guides/use-cases/embedding/javascript"
  >
    @flatfile/javascript
  </Card>
  <Card title="React" icon="react" href="/guides/use-cases/embedding/react">
    @flatfile/react
  </Card>
  <Card title="AngularJs" icon="angular">
    Coming soon
  </Card>
  <Card title="Vue" icon="vuejs">
    Coming soon
  </Card>
  <Card title="Ember" icon="ember">
    Coming soon
  </Card>
</CardGroup>

## Properties

`initializeFlatfile` takes the following options:

<ParamField path="publishableKey" type="string">
  Publishable key accessed via Flatfile dashboard > Developer settings. Required
  if not passing in an existing Space.
</ParamField>

<ParamField path="space" type="{id: string, accessToken: string}">
  Pass in an existing Space instead of creating a new one each time. [Learn
  More](#space)
</ParamField>

<ParamField
  path="closeSpace"
  type="operation: string, onClose: (data: any) => void"
>
  Options for when to close the iframe and a callback function when the session
  is complete. [Learn More](#closespace)
</ParamField>

<ParamField path="displayAsModal" type="boolean" default="true">
  Display Flatfile as a full screen modal or inline on the page. [Learn More](#displayAsModal)

</ParamField>

<ParamField path="spaceBody" type="object">
  Pass in space options to configure a new Space. [Learn More](#space)
</ParamField>

<ParamField
  path="mountElement"
  type="string"
  default="flatfile_iFrameContainer"
>
  The element Flatfile will mount to. (Will create if it doesn't already exist.)
</ParamField>

<ParamField
  path="apiUrl"
  type="string"
  default="https://platform.flatfile.com/api"
>
  The endpoint used to interact with the Flatfile API
</ParamField>

<ParamField path="baseUrl" type="string" default="https://spaces.flatfile.com">
  The base URL for accessing the Flatfile Spaces API.
</ParamField>

<ParamField path="exitTitle" type="string" default="Close Window">
  The title on the dialog that appears when exiting out of Flatfile.
</ParamField>

<ParamField path="exitText" type="string" default="See below">
  The text on the dialog that appears when exiting out of Flatfile.

Default: "Are you sure you would like to close this window? This will end your current data import session."

</ParamField>

<ParamField path="errorTitle" type="string" default="Something went wrong">
  The title on the dialog that appears when an unexpected error occurs when
  loading Flatfile. Note: the error dialog will also include error details
  regarding the error that occurred.
</ParamField>

<ParamField path="listener" type="Listener">
  **React only** Event listener for responding to Events. [Learn
  More](#build-the-listener)
</ParamField>

### space

<Note>
  Note: the Space must have `guestAuthentication` configured with `shared_link`
  as an option. This is inherited from Environment. [Learn
  more](../../../../developer-tools/environment).
</Note>

To reuse an existing Space, we'll update our files to pass in a Space Id. We'll then make a server-side request using our `secretKey` to get the Space and its access token.

<Warning>
  Unlike the `publishableKey`, the `secretKey` shouldn't be passed through the
  browser as it will have full access. This is why we are showing this example
  in a server-side call
</Warning>

#### Install packages

<CodeGroup>

```npm npm
npm install @flatfile/api@latest dotenv express cors parcel
```

```yarn yarn
yarn add @flatfile/api@latest dotenv express cors parcel
```

</CodeGroup>

#### Get a Space

<CodeGroup>

```html public/index.html
<button class="contrast" onclick="openFlatfile()">Open existing Space</button>
```

```js src/client.js
window.openFlatfile = () => {
  fetch(server_url + "/space") // Make a request to the server endpoint
    .then((response) => response.json())
    .then((space) => {
      const flatfileOptions = {
        space: {
          id: space && space.data && space.data.id,
          accessToken: space && space.data && space.data.accessToken,
        },
        displayAsModal: false,
      };
      initializeFlatfile(flatfileOptions);
    })
    .catch((error) => {
      console.error("Error retrieving space in client:", error);
    });
};
```

```js src/server.mjs
import dotenv from "dotenv";
import express from "express";
import { FlatfileClient } from "@flatfile/api";
import cors from "cors"; // Import the cors module

dotenv.config();

const app = express();
const port = 8080;

const flatfile = new FlatfileClient({
  token: process.env.SECRET_KEY,
  environment: process.env.BASE_URL + "/v1",
});

// Enable CORS middleware
app.use(cors());

app.get("/", (req, res) => {
  res.send("Hello, world!");
});

app.get("/space", async (req, res) => {
  try {
    const space = await flatfile.spaces.get(process.env.SPACE_ID);
    res.json(space);
  } catch (error) {
    console.error("Error retrieving space:", error);
    res.status(500).json({ error: "Failed to retrieve space" });
  }
});

app.listen(port, () => {
  console.log(`Server is running on port ${port}`);
});
```

```json .env
SECRET_KEY=sk_1234
BASE_URL=https://platform.flatfile.com/api
SPACE_ID=us_sp_123
```

```json package.json
{
  "name": "",
  "version": "",
  "description": "",
  "scripts": {
    "start": "parcel public/index.html",
    "server": "node src/server.mjs"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "dotenv": "^16.3.1",
    "@flatfile/api": "1.5.15",
    "@flatfile/javascript": "0.1.1",
    "cors": "^2.8.5",
    "express": "4.18.2",
    "parcel": "2.8.3"
  },
  "devDependencies": {
    "@parcel/resolver-default": "^2.9.3",
    "buffer": "^5.7.1",
    "crypto-browserify": "^3.12.0",
    "events": "^3.3.0",
    "os-browserify": "^0.3.0",
    "path-browserify": "^1.0.1",
    "process": "^0.11.10",
    "stream-browserify": "^3.0.0",
    "url": "^0.11.1"
  }
}
```

</CodeGroup>

### closeSpace

```typescript
const flatfileOptions = {
    publishableKey,
    //additional props
    closeSpace: {
      operation: "contacts:submit",
      onClose: () => {},
    };
  }
```

This `onClose` callback function is called when the Action defined in `operation` is complete and closes the iframe. It can also be used to perform cleanup actions, such as resetting the state of the parent application or updating the UI.

### displayAsModal

Toggling off this property will update the wrapper css to make the iframe fully inline thereby hiding the close button. All of the child divs will no longer include: `.flatfile_displayAsModal` which removes all the dialog styling.

The default width and height of the container can be overriden in style.css.

```css style.css
.flatfile_iframe-wrapper {
  min-width: 768px;
  min-height: 600px;
  width: 992px;
  height: 600px;
}
```

### spaceBody

Optionally, you can pass in additional properties on the Space as it's created.

```typescript
const flatfileOptions = {
    publishableKey,
    //additional props, see Create Space endpoint for all the full list of properties (https://reference.flatfile.com/docs/api/25e20c8ab61c5-create-a-space)
    spaceBody: {
      name: "New Space"
      namespace: "Red",
    };
  }
```

### listener

#### Part 1: Build a Workbook

Create a Workbook to configure your Space.

```js src/config.ts
import { Flatfile } from "@flatfile/api";

export const config: Pick<
  Flatfile.CreateWorkbookConfig,
  "name" | "sheets" | "actions"
> = {
  name: "Employees workbook",
  sheets: [
    {
      name: "Contacts",
      slug: "Contacts",
      fields: [
        {
          key: "first_name",
          type: "string",
          label: "First name",
          constraints: [
            {
              type: "required",
            },
          ],
        },
        {
          key: "last_name",
          type: "string",
          label: "last name",
          constraints: [
            {
              type: "unique",
            },
          ],
        },
        {
          key: "full_name",
          type: "string",
          label: "full name",
        },
      ],
    },
  ],
  actions: [
    {
      label: "Submit",
      operation: "contacts:submit",
      description: "Would you like to submit your workbook?",
      mode: "foreground",
      primary: true,
      confirm: true,
    },
  ],
};
```

#### Part 2: Handle Events

In the event listener below, first we will use Flatfile's record hook plugin to automatically re-format, correct, validate, and enrich data during the data import process.

Since we have a defined "Submit" action in our Workbook, next we utilize the Event listener to determine the method by which we want to submit records.

<Warning>
  While a client-side listener will be able to handle a lot of the interaction
  and updates in the browser, there may be operations it can't perform due to
  these limitations. For tasks that need to access server resources or
  capabilities, a server-side listener will also be required. [Learn
  more](../../../../developer-tools/client_server_side)
</Warning>

#### Install the plugin

First, download the `recordHook` plugin from npm.

```
npm i @flatfile/plugin-record-hook
```

#### Part 3: Build the listener

```js src/listener.ts
import { recordHook } from "@flatfile/plugin-record-hook";
import api from "@flatfile/api";
import { FlatfileListener } from "@flatfile/listener";

async function submit(jobId: string) {
  await api.jobs.ack(jobId, {
    info: "I'm starting the job - inside client",
    progress: 33,
  });

  // hit your api here
  await new Promise((res) => setTimeout(res, 2000));

  await api.jobs.complete(jobId, {
    info: "Job's work is done",
    outcome: { next: { type: "wait" } },
  });
}

/**
 * Example Listener
 */

export const listener = FlatfileListener.create((client) => {
  // Lowercases the first_name field
  client.use(
    recordHook("Contacts", (record) => {
      const value = record.get("first_name");
      if (typeof value === "string") {
        record.set("first_name", value.toLowerCase());
      }
      return record;
    })
  );
  // Waits for the submit button to be clicked
  client.on(
    "job:ready",
    // @ts-ignore
    { payload: { operation: "contacts:submit" } },
    async (event: any) => {
      const { context } = event;
      return submit(context.jobId);
    }
  );
});
```
