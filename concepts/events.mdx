---
title: "Events"
description: "The anatomy of Events."
---

The Flatfile platform includes a REST API for manipulating resources 
and an event bus for subscribing to notifications about those resources. 

The Flatfile PubSub Client is a super thin wrapper around the Flatfile API. 
It allows you to call our API after receiving events from any PubSub driver. 

#### The anatomy of an Event

Flatfile events follow a standard structure and event listeners can use any of the following syntaxes to react to events within Flatfile.

[See API Reference](https://flatfile.stoplight.io/docs/v10/c67125494272c-create-an-event)


### Using Events

Once an event is received, it is routed to any awaiting listeners which are added with `addEventListener()` or its alias `on()`.

An event context is passed to an **EventFilter**

```typescript
export type EventFilter = Record<string, Arrayable<string>>

// example event context
{ context: { sheetSlug: 'TestSheet' } }
```

#### Building with events

Using our powerful [@flatfile/listener](https://www.npmjs.com/package/@flatfile/listener) library we can intervene between any event and run a callback function based on values provided inside that event.

```typescript
client.on(
    'records:*', //listens for records:created & records:updated
    { target: 'sheet(TestSheet)' },
    (event: FlatfileEvent) => {
      //do something here
    }
  );
```

## Event Topics

#### Space

<ParamField path="space:added" type="readonly">
  Called when a Space is created
</ParamField>

<ParamField path="space:removed" type="readonly">
  Called when a Space is deleted
</ParamField>

#### Workbook

<ParamField path="workbook:added" type="readonly">
  Called when a Space is created
</ParamField>

<ParamField path="workbook:removed" type="readonly">
  Called when a Workbook is deleted
</ParamField>

<ParamField path="sheet:validated" type="readonly">
  Called when a sheet is validated
</ParamField>

<ParamField path="records:created" type="readonly">
  Called when a records are created
</ParamField>

<ParamField path="records:updated" type="readonly">
  Called when a records are updated
</ParamField>

<ParamField path="records:deleted" type="readonly">
  Called when records are deleted
</ParamField>

#### User

<ParamField path="user:added" type="readonly">
  Called when a User is created
</ParamField>

<ParamField path="user:removed" type="readonly">
  Called when a User is deleted
</ParamField>

<ParamField path="user:online" type="readonly">
  Called when a User logs in
</ParamField>

<ParamField path="user:offline" type="readonly">
  Called when a User logs out
</ParamField>

#### File Upload

<ParamField path="upload:started" type="readonly">
  Called when a file upload begins
</ParamField>

<ParamField path="upload:failed" type="readonly">
  Called when a file upload fails
</ParamField>

<ParamField path="upload:completed" type="readonly">
  Called when a file upload has compled
</ParamField>

<ParamField path="file:deleted" type="readonly">
  Called when a file is deleted
</ParamField>

#### Jobs

<ParamField path="job:waiting" type="readonly">
  Called when a job is waiting to begin
</ParamField>

<ParamField path="job:started" type="readonly">
  Called when a job begins
</ParamField>

<ParamField path="job:updated" type="readonly">
  Called when a job is updated, oftentimes for progress
</ParamField>

<ParamField path="job:failed" type="readonly">
  Called when a job fails
</ParamField>

<ParamField path="job:completed" type="readonly">
  Called when a job has compled
</ParamField>

<ParamField path="job:deleted" type="readonly">
  Called when a job is deleted
</ParamField>

#### Actions

<ParamField path="action:triggered" type="readonly">
  Called when an action is triggered in the UI
</ParamField>

#### Agents

<ParamField path="client:init" type="readonly">
  Called when an agent is deployed
</ParamField>
