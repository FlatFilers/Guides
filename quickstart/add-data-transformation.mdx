---
title: 2. Transform & validate data
description: "Learn how to use events in Flatfile to transform data."
---

<Info>If you haven't seen your new workbook yet, head over to your [Dashboard](https://platform.flatfile.com) and check it out before continuing.</Info>

As you were interacting with your new workbook in Flatfile, you may have added or edited the records, or downloaded a sheet. 
Whenever any action is taken in Flatfile, an event is triggered via <Tooltip tip="Learn more about Events">[Event Hooks](../concepts/events)</Tooltip>. 

## Using the listener 

Using our powerful [@flatfile/listener](../core-libraries/listener) core library, we can listen for every event and then decide how we want to respond.

#### How it works:

Every time this polling driver gets a new event from someone interacting in your workbook, you will be able to 
respond. With records changes specifically, often this looks like transforming or validating the data in your sheet.

1. To get started, begin capturing Events as they happen in your Workbook with this [dev sandbox](https://replit.com/@flatfile/get-started#index.ts) in Replit. 
2. Hit the green Run at the top of the screen to begin polling for events.
3. Make changes in your workbook and see how the events are passed into your logs.


<a target="_blank" class="group px-4 py-1.5 relative inline-flex items-center rounded-full shadow-sm text-sm font-medium" 
href="https://replit.com/@flatfile/get-started#index.ts">
    <span class="absolute inset-0 bg-primary-dark rounded-full group-hover:opacity-[0.9]"></span>
    <span class="z-10 mr-2 text-white">See a listener in Replit</span>
    <svg width="6" height="3" class="h-2 overflow-visible -rotate-90 text-white" aria-hidden="true"><path d="M0 0L3 3L6 0" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
</a>

<a target="_blank" href="https://github.com/FlatFilers" class="font-medium hover:text-primary dark:hover:text-primary-light py-1.5 mx-4">Clone the full project</a>

---

## Adding your first data transformation

### Using transformation & validation plugins

For this tutorial, we will be updating data in our Sheet using the core [@flatfile/hooks](../core-libraries/hooks) library.

Flatfile provides a number of handy [transformation & validation plugins](https://plugins.flatfile.com) to reshape the data before it gets updated. Explore open source validation plugins available like:

<CardGroup cols={3}>
  <Card color="#CB3837" title="@flatfile/plugin-autocast" icon="npm" href="https://plugins.flatfile.com">
  </Card>
  <Card color="#CB3837" title="@flatfile/plugin-pretty-dates" icon="npm" href="https://plugins.flatfile.com">
  </Card>
  <Card color="#CB3837" title="@flatfile/plugin-addresses" icon="npm" href="https://plugins.flatfile.com">
  </Card>
</CardGroup>

### Using the `record` event

For this example, we will intervene the `record` event topic with a powerful plugin, [@flatfile/plugin-record-hook](https://www.npmjs.com/package/@flatfile/plugin-record-hook) and perform callback functions
based on the values provided inside that event.

In this example, we will transform the data provided inside the record event using the `record.transform` helper 
from the [@flatfile/plugin-record-hook](https://www.npmjs.com/package/@flatfile/plugin-record-hook) plugin.

This transformation specifically will take first name and make it lowercase.

```jsx
listener.use(
  recordHook('my-sheet', (record: FlatfileRecord) => {
    compute(
      record,
      'first_name',
      (value) => value && value.toString().toLowerCase(),
      'First name was changed to lower case.'
    )
    return record
  })
)
```

## Adding your first validation

In this example, we will validate the data provided inside the record event using the `record.validate` helper 
also from the [@flatfile/plugin-record-hook](https://www.npmjs.com/package/@flatfile/plugin-record-hook) plugin.

This validation specifically will use the popular [email-validator](https://www.npmjs.com/package/email-validator) package 
to make sure the email is actually valid.

<Tip>
You can use any javascript validation engine in the world to automatically detect formatting or rule-based issues 
in your data.
</Tip>


```jsx
client.use(recordHook('my-sheet1', (record: FlatfileRecord) => {
	listener.use(
    validate(
      record,
      'email',
      (value) => EmailValidator.validate(email)),
      'Email is invalid'
    )
    return record
  })
)
```

---

## Recap & Next Steps

You should now have a locally running listener that is responding to record changes in your Workbook.

Next, we will add an action that submits data from this Sheet to your API.
